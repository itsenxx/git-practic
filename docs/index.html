<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        #slideContainer { border: 1px solid green; position: relative; 
                        width: 400px;}
        #slideList { width: 400px;}
        .slideItem { display: none; }
        .active { display:block;}

        .slideButton { position: absolute; top: 50%; font-size: 20px;
                        background-color: black; color:white;
                        padding: 10px; border: none; margin-top: -20px;}
        #nextButton { right: 0; }
        #prevButton { left: 0;}
        .On { color:red; } 
    </style>

</head>

<body>
    <h2>이미지 변경 </h2>
    <div id="slideContainer">

        <div id="slideList">

            <div class="slideItem active"><img src="1.jpg"></div>
            <div class="slideItem"><img src="2.jpg"></div>
            <div class="slideItem"><img src="3.jpg"></div>

        </div>

        <button id="prevButton" class="slideButton">&#10094;</button>
        <button id="nextButton" class="slideButton">&#10095;</button>
        <p></p>

    </div>    

    <script src="js/jquery-3.7.1.min.js"></script>
    <script>
        var currentIndex = 1;
        
        $(document).ready(function(){
            //마우스가 버튼에 진입시 색변경
            $(function(){
                $(".slideButton").mouseenter(function(){
                    $(this).addClass('On');
                });
                $(".slideButton").mouseleave(function() {
                    $(this).removeClass('On');
                });
            });

            // 인덱스 번호 + / - 하여 이미지를 변경
            $(function() {
                // prevButton
                $('#prevButton').click(function(){
                    if(currentIndex<=1) {
                        currentIndex=3;
                    } else {
                        currentIndex--;
                    }
                    $('.slideItem').each(function(index, value) {  //0,1,2
                        $(this).removeClass('active');
                        
                        if(index == currentIndex-1) {
                        $(this).addClass('active');
                        }
                    
                    });console.log(currentIndex);
                });

                    

                // nextButton
                $('#nextButton').click(function(){
                if(currentIndex>=3) {
                    currentIndex=1;
                }else{
                    currentIndex++;
                }
                // 이미지 영역 (slideItem) 모두 선택
                //$('.slideItem').length; // 갯수
                $('.slideItem').each(function(index, value){
                    $(this).removeClass('active');
                    //console.log(index);
                    if(index == currentIndex-1) {
                        $(this).addClass('active');
                    }
                });
                console.log(currentIndex);

                });
            });
        });
    </script>
</body>
</html>